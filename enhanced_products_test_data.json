{
  "enhanced_products_test_data": {
    "description": "Enhanced test data for products.ts endpoint based on current implementation",
    "note": "This data accounts for the current products.ts implementation with latitude field and store_id relationship",
    "realistic_products": [
      {
        "product_name": "Apple iPhone 15 Pro Max 256GB",
        "price": "134900",
        "product_img": [
          "https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=400",
          "https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400",
          "https://images.unsplash.com/photo-1574944985070-8f3ebc6b79d2?w=400"
        ],
        "quantity": "1",
        "category": "Electronics",
        "stock": "15"
      },
      {
        "product_name": "Samsung Galaxy S24 Ultra 512GB",
        "price": "89999",
        "product_img": [
          "https://images.unsplash.com/photo-1610945265064-0e34e5519bbf?w=400",
          "https://images.unsplash.com/photo-1605236453806-b486851a9ea4?w=400"
        ],
        "quantity": "1",
        "category": "Electronics",
        "stock": "22"
      },
      {
        "product_name": "Sony WH-1000XM5 Headphones",
        "price": "29990",
        "product_img": [
          "https://images.unsplash.com/photo-1583394838403-6e2a9b1b2b47?w=400",
          "https://images.unsplash.com/photo-1484704849700-f032a568e944?w=400"
        ],
        "quantity": "1",
        "category": "Electronics",
        "stock": "35"
      },
      {
        "product_name": "MacBook Pro 14-inch M3 Chip",
        "price": "199900",
        "product_img": [
          "https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=400",
          "https://images.unsplash.com/photo-1541807084-5c52b6b3adef?w=400"
        ],
        "quantity": "1",
        "category": "Electronics",
        "stock": "8"
      },
      {
        "product_name": "Nike Air Jordan 1 Retro High OG",
        "price": "14995",
        "product_img": [
          "https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400",
          "https://images.unsplash.com/photo-1549298916-b41d501d3772?w=400"
        ],
        "quantity": "1",
        "category": "Footwear",
        "stock": "45"
      },
      {
        "product_name": "Adidas Ultraboost 23 Running Shoes",
        "price": "17999",
        "product_img": [
          "https://images.unsplash.com/photo-1551107696-a4b957c9b5d8?w=400",
          "https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=400"
        ],
        "quantity": "1",
        "category": "Footwear",
        "stock": "60"
      },
      {
        "product_name": "Levi's 511 Slim Fit Jeans",
        "price": "3999",
        "product_img": [
          "https://images.unsplash.com/photo-1542272604-787c3835535d?w=400",
          "https://images.unsplash.com/photo-1473966968600-fa801b869a1a?w=400"
        ],
        "quantity": "1",
        "category": "Clothing",
        "stock": "75"
      },
      {
        "product_name": "H&M Basic Cotton T-Shirt",
        "price": "799",
        "product_img": [
          "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400"
        ],
        "quantity": "1",
        "category": "Clothing",
        "stock": "120"
      },
      {
        "product_name": "Organic Basmati Rice Premium 5kg",
        "price": "1299",
        "product_img": [
          "https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400",
          "https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400"
        ],
        "quantity": "1",
        "category": "Groceries",
        "stock": "200"
      },
      {
        "product_name": "Tata Salt Iodized 1kg",
        "price": "24",
        "product_img": [
          "https://images.unsplash.com/photo-1594736797933-d0a9ba0d3c1c?w=400"
        ],
        "quantity": "1",
        "category": "Groceries",
        "stock": "500"
      },
      {
        "product_name": "Himalaya Neem Face Wash 150ml",
        "price": "149",
        "product_img": [
          "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400"
        ],
        "quantity": "1",
        "category": "Health & Beauty",
        "stock": "85"
      },
      {
        "product_name": "Ponds Cold Cream 200ml",
        "price": "175",
        "product_img": [
          "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400"
        ],
        "quantity": "1",
        "category": "Health & Beauty",
        "stock": "65"
      }
    ],
    "edge_case_products": [
      {
        "product_name": "Product with Very Long Name That Tests the Maximum Length Limit of Product Names in Database",
        "price": "1",
        "product_img": ["https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400"],
        "quantity": "1",
        "category": "Test",
        "stock": "1"
      },
      {
        "product_name": "Expensive Luxury Item",
        "price": "999999",
        "product_img": ["https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?w=400"],
        "quantity": "1",
        "category": "Luxury",
        "stock": "1"
      },
      {
        "product_name": "Out of Stock Item",
        "price": "100",
        "product_img": ["https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400"],
        "quantity": "1",
        "category": "Test",
        "stock": "0"
      },
      {
        "product_name": "Bulk Quantity Item",
        "price": "5",
        "product_img": ["https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400"],
        "quantity": "1000",
        "category": "Bulk",
        "stock": "10000"
      }
    ]
  },
  "comprehensive_test_scenarios": {
    "product_creation": {
      "valid_scenarios": [
        {
          "name": "Standard Product Creation",
          "description": "Create a product with all required fields",
          "test_data": {
            "product_name": "Test Product Standard",
            "price": "999",
            "product_img": ["https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400"],
            "quantity": "10",
            "category": "Test Category",
            "stock": "50"
          },
          "curl_command": "curl -X POST http://localhost:3000/api/products/add -H 'Content-Type: application/json' -H 'Authorization: Bearer YOUR_TOKEN' -d '{\"product_name\":\"Test Product Standard\",\"price\":\"999\",\"product_img\":[\"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400\"],\"quantity\":\"10\",\"category\":\"Test Category\",\"stock\":\"50\"}'",
          "expected_status": 200,
          "expected_response_fields": ["message", "product"]
        },
        {
          "name": "Product with Multiple Images",
          "description": "Create a product with multiple product images",
          "test_data": {
            "product_name": "Multi Image Product",
            "price": "1599",
            "product_img": [
              "https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400",
              "https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?w=400",
              "https://images.unsplash.com/photo-1542272604-787c3835535d?w=400"
            ],
            "quantity": "5",
            "category": "Electronics",
            "stock": "25"
          },
          "curl_command": "curl -X POST http://localhost:3000/api/products/add -H 'Content-Type: application/json' -H 'Authorization: Bearer YOUR_TOKEN' -d '{\"product_name\":\"Multi Image Product\",\"price\":\"1599\",\"product_img\":[\"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400\",\"https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?w=400\",\"https://images.unsplash.com/photo-1542272604-787c3835535d?w=400\"],\"quantity\":\"5\",\"category\":\"Electronics\",\"stock\":\"25\"}'",
          "expected_status": 200
        },
        {
          "name": "Product with Single Image String",
          "description": "Create a product with single image as string (not array)",
          "test_data": {
            "product_name": "Single Image Product",
            "price": "799",
            "product_img": "https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400",
            "quantity": "20",
            "category": "Fashion",
            "stock": "100"
          },
          "curl_command": "curl -X POST http://localhost:3000/api/products/add -H 'Content-Type: application/json' -H 'Authorization: Bearer YOUR_TOKEN' -d '{\"product_name\":\"Single Image Product\",\"price\":\"799\",\"product_img\":\"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400\",\"quantity\":\"20\",\"category\":\"Fashion\",\"stock\":\"100\"}'",
          "expected_status": 200
        }
      ],
      "invalid_scenarios": [
        {
          "name": "Missing Required Fields",
          "description": "Attempt to create product without required fields",
          "test_data": {
            "product_name": "Incomplete Product"
          },
          "curl_command": "curl -X POST http://localhost:3000/api/products/add -H 'Content-Type: application/json' -H 'Authorization: Bearer YOUR_TOKEN' -d '{\"product_name\":\"Incomplete Product\"}'",
          "expected_status": 500,
          "expected_error": "Missing required fields"
        },
        {
          "name": "Invalid Price Format",
          "description": "Create product with non-numeric price",
          "test_data": {
            "product_name": "Invalid Price Product",
            "price": "not_a_number",
            "product_img": ["https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400"],
            "quantity": "10",
            "category": "Test",
            "stock": "50"
          },
          "curl_command": "curl -X POST http://localhost:3000/api/products/add -H 'Content-Type: application/json' -H 'Authorization: Bearer YOUR_TOKEN' -d '{\"product_name\":\"Invalid Price Product\",\"price\":\"not_a_number\",\"product_img\":[\"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400\"],\"quantity\":\"10\",\"category\":\"Test\",\"stock\":\"50\"}'",
          "expected_status": 500,
          "expected_error": "Invalid price format"
        },
        {
          "name": "No Store Found",
          "description": "Create product when user has no store",
          "curl_command": "curl -X POST http://localhost:3000/api/products/add -H 'Content-Type: application/json' -H 'Authorization: Bearer USER_WITHOUT_STORE_TOKEN' -d '{\"product_name\":\"No Store Product\",\"price\":\"999\",\"product_img\":[\"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400\"],\"quantity\":\"10\",\"category\":\"Test\",\"stock\":\"50\"}'",
          "expected_status": 404,
          "expected_error": "Store not found for this user"
        },
        {
          "name": "Unauthorized Access",
          "description": "Create product without authentication token",
          "curl_command": "curl -X POST http://localhost:3000/api/products/add -H 'Content-Type: application/json' -d '{\"product_name\":\"Unauthorized Product\",\"price\":\"999\",\"product_img\":[\"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400\"],\"quantity\":\"10\",\"category\":\"Test\",\"stock\":\"50\"}'",
          "expected_status": 401,
          "expected_error": "Unauthorized"
        }
      ]
    },
    "product_search": {
      "valid_scenarios": [
        {
          "name": "Search Existing Product",
          "description": "Search for a product that exists",
          "search_term": "Samsung",
          "curl_command": "curl -X GET http://localhost:3000/api/products/search/Samsung",
          "expected_status": 200,
          "expected_response": "Product object with matching name"
        },
        {
          "name": "Case Insensitive Search",
          "description": "Search with different case",
          "search_term": "samsung",
          "curl_command": "curl -X GET http://localhost:3000/api/products/search/samsung",
          "expected_status": 200,
          "expected_response": "Product object with matching name (case insensitive)"
        },
        {
          "name": "Partial Name Search",
          "description": "Search with partial product name",
          "search_term": "Galaxy",
          "curl_command": "curl -X GET http://localhost:3000/api/products/search/Galaxy",
          "expected_status": 200,
          "expected_response": "Product object containing 'Galaxy' in name"
        }
      ],
      "invalid_scenarios": [
        {
          "name": "Non-Existent Product",
          "description": "Search for a product that doesn't exist",
          "search_term": "NonExistentProduct12345",
          "curl_command": "curl -X GET http://localhost:3000/api/products/search/NonExistentProduct12345",
          "expected_status": 404,
          "expected_error": "Product not found"
        },
        {
          "name": "Empty Search Term",
          "description": "Search with empty string",
          "search_term": "",
          "curl_command": "curl -X GET http://localhost:3000/api/products/search/",
          "expected_status": 404,
          "expected_error": "Invalid search term"
        }
      ]
    },
    "product_quantity_check": {
      "valid_scenarios": [
        {
          "name": "Check In-Stock Product",
          "description": "Check quantity of product with available stock",
          "product_name": "Samsung Galaxy S24 Ultra",
          "curl_command": "curl -X POST http://localhost:3000/api/products/quantity/Samsung%20Galaxy%20S24%20Ultra -H 'Authorization: Bearer YOUR_TOKEN'",
          "expected_status": 200,
          "expected_response": "Product quantity and stock information"
        },
        {
          "name": "Check Low Stock Product",
          "description": "Check quantity of product with low stock",
          "product_name": "Limited Edition Item",
          "curl_command": "curl -X POST http://localhost:3000/api/products/quantity/Limited%20Edition%20Item -H 'Authorization: Bearer YOUR_TOKEN'",
          "expected_status": 200,
          "expected_response": "Low stock warning"
        }
      ],
      "invalid_scenarios": [
        {
          "name": "Check Non-Existent Product",
          "description": "Check quantity of product that doesn't exist",
          "product_name": "NonExistentProduct",
          "curl_command": "curl -X POST http://localhost:3000/api/products/quantity/NonExistentProduct -H 'Authorization: Bearer YOUR_TOKEN'",
          "expected_status": 404,
          "expected_error": "Product not found"
        },
        {
          "name": "Unauthorized Quantity Check",
          "description": "Check quantity without authentication",
          "product_name": "Samsung Galaxy S24 Ultra",
          "curl_command": "curl -X POST http://localhost:3000/api/products/quantity/Samsung%20Galaxy%20S24%20Ultra",
          "expected_status": 401,
          "expected_error": "Unauthorized"
        }
      ]
    },
    "product_deletion": {
      "valid_scenarios": [
        {
          "name": "Delete Existing Product",
          "description": "Delete a product that exists",
          "product_name": "Test Product To Delete",
          "curl_command": "curl -X DELETE http://localhost:3000/api/products/Test%20Product%20To%20Delete -H 'Authorization: Bearer YOUR_TOKEN'",
          "expected_status": 200,
          "expected_response": "Product deleted successfully"
        }
      ],
      "invalid_scenarios": [
        {
          "name": "Delete Non-Existent Product",
          "description": "Attempt to delete a product that doesn't exist",
          "product_name": "NonExistentProduct",
          "curl_command": "curl -X DELETE http://localhost:3000/api/products/NonExistentProduct -H 'Authorization: Bearer YOUR_TOKEN'",
          "expected_status": 500,
          "expected_error": "Product not found or failed to delete"
        },
        {
          "name": "Delete Without Product Name",
          "description": "Attempt to delete without providing product name",
          "curl_command": "curl -X DELETE http://localhost:3000/api/products/ -H 'Authorization: Bearer YOUR_TOKEN'",
          "expected_status": 400,
          "expected_error": "Product name is required"
        },
        {
          "name": "Unauthorized Deletion",
          "description": "Attempt to delete without authentication",
          "product_name": "Test Product",
          "curl_command": "curl -X DELETE http://localhost:3000/api/products/Test%20Product",
          "expected_status": 401,
          "expected_error": "Unauthorized"
        }
      ]
    }
  },
  "postman_collection": {
    "info": {
      "name": "E-Commerce Products API",
      "description": "Comprehensive collection for testing product endpoints",
      "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "requests": [
      {
        "name": "Create Product - Standard",
        "request": {
          "method": "POST",
          "header": [
            {"key": "Content-Type", "value": "application/json"},
            {"key": "Authorization", "value": "Bearer {{auth_token}}"}
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"product_name\":\"Test Product Standard\",\"price\":\"999\",\"product_img\":[\"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400\"],\"quantity\":\"10\",\"category\":\"Test Category\",\"stock\":\"50\"}"
          },
          "url": "{{base_url}}/api/products/add"
        }
      },
      {
        "name": "Get All Products",
        "request": {
          "method": "GET",
          "header": [
            {"key": "Authorization", "value": "Bearer {{auth_token}}"}
          ],
          "url": "{{base_url}}/api/products"
        }
      },
      {
        "name": "Search Product",
        "request": {
          "method": "GET",
          "url": "{{base_url}}/api/products/search/Samsung"
        }
      },
      {
        "name": "Check Product Quantity",
        "request": {
          "method": "POST",
          "header": [
            {"key": "Authorization", "value": "Bearer {{auth_token}}"}
          ],
          "url": "{{base_url}}/api/products/quantity/Samsung%20Galaxy%20S24%20Ultra"
        }
      },
      {
        "name": "Delete Product",
        "request": {
          "method": "DELETE",
          "header": [
            {"key": "Authorization", "value": "Bearer {{auth_token}}"}
          ],
          "url": "{{base_url}}/api/products/Test%20Product%20Standard"
        }
      }
    ],
    "variables": [
      {"key": "base_url", "value": "http://localhost:3000"},
      {"key": "auth_token", "value": "your_jwt_token_here"}
    ]
  },
  "testing_notes": {
    "important_considerations": [
      "The products.ts endpoint automatically sets latitude to 0.0 for all products",
      "The store_id is automatically retrieved from the authenticated user's store",
      "Price, quantity, and stock are converted to integers using parseInt()",
      "Product images can be provided as either an array or a single string",
      "All product creation requires authentication (authMiddleware)",
      "Product search is case-insensitive and supports partial matches",
      "Stock checking returns 'low stock' message when stock is 0 or below"
    ],
    "database_setup": [
      "Ensure you have at least one user with a store created",
      "The user must be authenticated to create, check quantity, or delete products",
      "Product search does not require authentication",
      "Make sure your JWT token is valid and not expired"
    ]
  }
}
